# Use Bzlmod (`MODULE.bazel`) instead of `WORKSPACE.bazel`.
common --enable_bzlmod
common --noenable_workspace

# In Bazel 9, native C++ rules are no longer injected globally by default.
# Some gRPC bundled sources still use `native.cc_library`/`native.cc_binary`,
# so we restore the autoload until that is fixed upstream.  No-op on Bazel 7/8.
build --incompatible_autoload_externally=+cc_library,+cc_binary

# Use C++17 (required for recent gRPC versions).
build --cxxopt=-std=c++17
build --host_cxxopt=-std=c++17
